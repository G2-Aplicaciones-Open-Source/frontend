<ng-container *ngIf="!isLoading && experience">
  <section class="experience-header">
    <h1 class="experience-title">
      {{ experience.title }}
      <button mat-icon-button (click)="toggleFavorite()">
        <mat-icon [style.color]="isFavorite ? '#FFD479' : 'black'">
          {{ isFavorite ? 'favorite' : 'favorite_border' }}
        </mat-icon>
      </button>
    </h1>
    <img *ngIf="backgroundImageUrl" [src]="backgroundImageUrl" class="background-image" />
  </section>

  <section class="experience-description">
    <p>{{ experience.description }}</p>
  </section>

  <section class="experience-info">
    <p><strong>Duración:</strong> {{ experience.duration }}</p>
    <p><strong>Punto de encuentro:</strong> {{ experience.meetingPoint }}</p>
    <p><strong>Agencia:</strong> {{ agencyName }}</p>
    <p><strong>Categoría:</strong> {{ categoryName }}</p>
    <p><strong>Destino:</strong> {{ destinationFull }}</p>
  </section>

  <section class="experience-availability">
    <app-availability-checker [experienceId]="experienceId"></app-availability-checker>
  </section>

  <section class="experience-reviews">
    <app-review-list [experienceId]="experienceId"></app-review-list>
  </section>

  <section *ngIf="carouselImages.length" class="image-carousel">
    <div class="carousel-wrapper">
      <mat-card *ngFor="let img of carouselImages" class="carousel-card">
        <img mat-card-image [src]="img.mediaUrl" [alt]="img.caption" />
        <mat-card-content>
          <p>{{ img.caption }}</p>
        </mat-card-content>
      </mat-card>
    </div>
  </section>

  <section class="suggestions">
    <h2 class="suggestions-title">Sugerencias</h2>
    <div class="suggestion-cards">
      <mat-card *ngFor="let suggestion of suggestions" class="suggestion-card" (click)="goToExperience(suggestion.id)">
        <img mat-card-image [src]="suggestion.imageUrl" [alt]="suggestion.title" />
        <mat-card-content>
          <p class="suggestion-title">{{ suggestion.title }}</p>
          <p class="suggestion-rating">⭐ {{ suggestion.rating.toFixed(1) }}</p>
        </mat-card-content>
      </mat-card>
    </div>
  </section>
</ng-container>

<!--  <section class="availability-section">-->
<!--    <button (click)="toggleAvailability()">-->
<!--      {{ showAvailability ? 'Ocultar disponibilidad' : 'Revisar disponibilidad' }}-->
<!--    </button>-->

<!--    <div *ngIf="showAvailability">-->
<!--      <app-availability-checker [experienceId]="experienceId"></app-availability-checker>-->
<!--    </div>-->
<!--  &lt;!&ndash;</section>-->
<!--  <section class="media-gallery" *ngIf="experienceMedias.length > 0">-->
<!--    <h2>Galería de la experiencia</h2>-->
<!--    <div class="media-grid">-->
<!--      <div class="media-item" *ngFor="let media of experienceMedias">-->
<!--        <img [src]="media.mediaUrl" [alt]="media.caption" />-->
<!--        <p class="caption">{{ media.caption }}</p>-->
<!--      </div>-->
<!--    </div>-->
<!--  </section>-->
<!--  &ndash;&gt;-->
<!--    -->

<!--</section>-->
